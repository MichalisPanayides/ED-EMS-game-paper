\section{Introduction}

% TODO: If this is one paper remove the queueing model part

An important issue for ambulances in the United Kingdom is that they stay 
parked outside hospitals for a huge amount of time~\cite{clarey2014ambulance}. 
This is a problem for the ambulance service, since the longer ambulances are
blocked in the hospital's parking space the longer the patients in them will
have to wait to receive their treatment but also the longer future patients 
will be stuck waiting for an ambulance.
This paper aims to describe a game theoretic model informed by an underlying 
queueing model motivated by this scenario.

Emergency departments (EDs) are constantly under a lot of pressure to meet 
targets and satisfy regulations~\cite{EmergencyDepartmentWinterPressures}.
There are various news reports that indicate that this is in fact an ongoing 
issue that affects both the patients and the emergency medical services (EMS).
Due to this blockage patients may spend a considerable amount of time in the 
back of an ambulance waiting to be dispatched to the ED.
Examples of such reports are~\cite{mirror, thenews, bmj} where
the impact that this issue has on patients is shown. 
Furthermore, this is also a huge issue for the EMS.
By blocking the ambulances at the hospital's parking space, valuable time is 
wasted where ambulances could be attending new patients~\cite{eastanglia}.

A number of papers have been published that touch upon the use of 
queueing models together with game theoretic concepts.
In~\cite{FirmCompetition} the authors study a simultaneous price competition 
between two firms that are modelled as two distinct queueing systems with a 
fixed capacity and a combined arrival rate.
They calculate the Nash equilibrium both for identical and heterogeneous firms
and show that for the former a pure N.E. always exist and for the latter a 
unique equilibrium exists where only one firm operates.
The authors have also extended their model in~\cite{FirmCompetition2} by 
allowing the players (firms) to choose capacities. 
A main result from this paper was that equilibria, where both firms operate
together, are not socially optimal while when both firms operate as a monopoly 
they are.
Another extension of~\cite{FirmCompetition} was introduced 
in~\cite{FirmCompetitionExtension} where a long-run version of the competition 
was considered that also had capacity as a decision variable.
In~\cite{knight2017measuring} a normal form game is built that is informed by a 
two-dimensional Markov chain in order to model interactions between critical
care units.
An additional paper that focuses on competition is~\cite{fan2009short} where
the authors created a competition between two sellers where seller 1 supplies 
a product instantly and seller 2 is modelled as a make-to-order M/M/1 queue.
The game that is played requires the two sellers to make a choice on the price 
of the product and then seller 2 to set a capacity that guarantees a maximum 
expected delay.
In~\cite{sadat2015can} a healthcare application was studied where patients 
could choose between two hospitals, where a utility function is derived that is
based on patients' perceived quality of life.
In~\cite{knight2013selfish} the impact that individual behaviour has on the 
efficiency of public services is investigated.
The authors place the individuals' choices between different public services 
within the formulation of routing games and measure inefficiencies using a 
concept known as the price of anarchy (\(PoA\))~\cite{koutsoupias1999worst}.
They show that the price of anarchy increases with worth of service and that is
low for systems with insufficient capacities.
In \cite{deo2011centralized} the authors study the network effect of ambulance 
diversion by proposing a non-cooperative game between two EDs that are modelled
as a queueing network.
Each ED's objective is to minimise its own waiting time and chooses a diversion
threshold based on the patients it has.
In equilibrium both EDs choose to divert ambulances in order to avoid getting
arrivals from the other ED.

Another specific part of this research is the construction of a queueing system
with a tandem buffer and a single service centre.
In~\cite{d2015pure} the authors explore threshold joining strategies in a 
Markov model that has two tandem queues.
Another great example is the one described in~\cite{burnetas2013customer}
where they investigated a network of multiple tandem queues where customers 
decide which queue to attend before joining.
Similarly, in~\cite{bacsar2002stackelberg} the authors examine a network of 
\(N\) tandem M/M/1 queues and with multi-type customers. 
The customers in this paper react to a price \(p\) by picking demand rates that 
maximise utility.
In~\cite{veltman2005equilibrium} a profit maximisation problem is studied that
has two servers; an M/M/1 queue and a parking service providing complementary 
service while the customer is in the first service. 
The providers gain a reward when customers complete both services and no reward 
when they finish one of them.
One of the main conclusions of this study is that by increasing the general 
demand both providers lower their prices to compensate for the increase in wait.
The problem was later extended by~\cite{sun2009equilibrium} where they 
considered arrivals of batches that can share the parking service.
Finally,~\cite{afeche2007decentralized} examines a tandem network of two M/M/1 
queues that are ran by two different profit-maximising service providers.
The network receives three types of customers; those requiring both services, 
customers requiring the first service and customers requiring the second service.
The authors showed that optimal prices also maximise social utility and that
removing two types of customers that don't need both services leads to higher 
profit and lower demand rate.

The EDs in the United Kingdom have to follow some set of regulations imposed to 
them by the National Health Service (NHS).
One of these regulations is that 95\% of patients that arrive at the ED should 
be admitted, transferred or discharged within four hours.
This is where gaming behaviour might be observed between the EDs and the EMS.
An assumption of this work is that some managerial decision making is involved
in choosing when to start blocking ambulances.
This is similar to~\cite{deo2011centralized}.
This paper touches upon the following new aspects:
\begin{itemize}
    \item The emergence of gaming behaviour between EDs and the EMS.
    \item A queueing model with 2 consecutive waiting spaces where one would 
    serve as a parking space for the ambulances
\end{itemize}
The focus of this research is the construction of a 3-player game theoretic 
model between two queueing systems and a service that distributes individuals
to them. 
The resultant model will then be used to explore the emergent dynamics between 
the three players.
This study explores two new concepts; getting performance measures for a new
queueing theoretic model with a tandem buffer and a single service centre and 
using a learning algorithm to model the emergence of behaviour at the interface
between Emergency Medical Services (EMS) and the Emergency Department (ED).
The model is then applied to the healthcare scenario between two EDs and the 
EMS while looking into the inefficiencies that emerge and ways to apply some 
incentive mechanisms to improve them.
The EDs are modelled as two queueing systems each with a tandem buffer and a 
service centre where their performance measures of the queueing models are then
used as the utilities of the game.

This paper first gives an overview of the game theoretic model, then goes on 
to describe a novel queueing model, and then follows with the methodology that 
was used to build the game.
Finally, there is a section that describes how this game theoretic framework
can be applied at the interface between the EMS and EDs together with some 
analysis on the behaviour that is observed.
